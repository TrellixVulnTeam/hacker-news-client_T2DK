{"version":3,"sources":["app.js"],"names":["ajax","XMLHttpRequest","NEWS_URL","open","send","newsFeed","JSON","parse","response","data","getNewsFeed","source","list","i","length","individual_url","id","template","Handlebars","compile","document","querySelector","innerHTML","getIndividualContents","CONTENT_URL","content","comments","title","url","domain","points","user","time_ago","console","log"],"mappings":"AAAA;AACA,IAAMA,IAAI,GAAG,IAAIC,cAAJ,EAAb;AACA,IAAMC,QAAQ,GAAG,sCAAjB;AACAF,IAAI,CAACG,IAAL,CAAU,KAAV,EAAiBD,QAAjB,EAA2B,KAA3B;AACAF,IAAI,CAACI,IAAL;AACA,IAAMC,QAAQ,GAAGC,IAAI,CAACC,KAAL,CAAWP,IAAI,CAACQ,QAAhB,CAAjB;AACA,IAAIC,IAAI,GAAG,EAAX,EAEA;;AACA,SAASC,WAAT,GAAuB;AACrB,MAAMC,MAAM,4VAAZ;AAcAF,EAAAA,IAAI,GAAG;AACLG,IAAAA,IAAI,EAAEP;AADD,GAAP,CAfqB,CAmBrB;;AACA,OAAK,IAAIQ,CAAC,GAAG,CAAb,EAAgBA,CAAC,GAAGJ,IAAI,CAACG,IAAL,CAAUE,MAA9B,EAAsCD,CAAC,EAAvC,EAA2C;AACzCJ,IAAAA,IAAI,CAACG,IAAL,CAAUC,CAAV,EAAaE,cAAb,uBAA2CV,QAAQ,CAACQ,CAAD,CAAR,CAAYG,EAAvD,EADyC,CAEzC;AACD;;AAED,MAAIC,QAAQ,GAAGC,UAAU,CAACC,OAAX,CAAmBR,MAAnB,CAAf;AACAS,EAAAA,QAAQ,CAACC,aAAT,CAAuB,YAAvB,EAAqCC,SAArC,GAAiDL,QAAQ,CAACR,IAAD,CAAzD;AACD,EAED;;;AACA,SAASc,qBAAT,CAA+BP,EAA/B,EAAmC;AACjC,MAAMQ,WAAW,2CAAoCR,EAApC,UAAjB;AACA,MAAML,MAAM,+aAAZ,CAFiC,CAsBjC;;AACAX,EAAAA,IAAI,CAACG,IAAL,CAAU,KAAV,EAAiBqB,WAAjB,EAA8B,KAA9B;AACAxB,EAAAA,IAAI,CAACI,IAAL;AACA,MAAMqB,OAAO,GAAGnB,IAAI,CAACC,KAAL,CAAWP,IAAI,CAACQ,QAAhB,CAAhB;AACA,MAAMkB,QAAQ,GAAGpB,IAAI,CAACC,KAAL,CAAWP,IAAI,CAACQ,QAAhB,EAA0BkB,QAA3C;AACAjB,EAAAA,IAAI,GAAG;AACL;AACAkB,IAAAA,KAAK,EAAEF,OAAO,CAACE,KAFV;AAGLC,IAAAA,GAAG,EAAEH,OAAO,CAACG,GAHR;AAILC,IAAAA,MAAM,EAAEJ,OAAO,CAACI,MAJX;AAKLC,IAAAA,MAAM,EAAEL,OAAO,CAACK,MALX;AAMLC,IAAAA,IAAI,EAAEN,OAAO,CAACM,IANT;AAOLC,IAAAA,QAAQ,EAAEP,OAAO,CAACO,QAPb;AAQLpB,IAAAA,IAAI,EAAEc;AARD,GAAP;AAWAO,EAAAA,OAAO,CAACC,GAAR,CAAYT,OAAZ;AACA,MAAIR,QAAQ,GAAGC,UAAU,CAACC,OAAX,CAAmBR,MAAnB,CAAf;AACAS,EAAAA,QAAQ,CAACC,aAAT,CAAuB,YAAvB,EAAqCC,SAArC,GAAiDL,QAAQ,CAACR,IAAD,CAAzD;AACD;;AAEDc,qBAAqB,CAAC,QAAD,CAArB","file":"app.c328ef1a.js","sourceRoot":"..","sourcesContent":["// 1. Hacker News 안의 모든 피드 가져오기\r\nconst ajax = new XMLHttpRequest();\r\nconst NEWS_URL = \"https://api.hnpwa.com/v0/news/1.json\";\r\najax.open(\"GET\", NEWS_URL, false);\r\najax.send();\r\nconst newsFeed = JSON.parse(ajax.response);\r\nlet data = {};\r\n\r\n// 2. newsFeed 불러오기 (by using handlebars)\r\nfunction getNewsFeed() {\r\n  const source = `\r\n    <ul>\r\n      {{#each list}}\r\n      <li>\r\n        <div><a href=\"{{url}}\">{{title}} ({{domain}})</a></div>\r\n        <div>\r\n          <span>{{points}} points by {{user}} {{time_ago}}</span>\r\n          <span><a href=\"{{individual_url}}\">{{comments_count}} comments</a></span>\r\n        </div>\r\n      </li>\r\n      {{/each}}\r\n    </ul>\r\n    `;\r\n\r\n  data = {\r\n    list: newsFeed,\r\n  };\r\n\r\n  // 2-1. individual_url 프로퍼티를 list 객체에 추가하기\r\n  for (let i = 0; i < data.list.length; i++) {\r\n    data.list[i].individual_url = `#/item?id=${newsFeed[i].id}`;\r\n    //   data.list[i].individual_url = `https://api.hnpwa.com/v0/item/${newsFeed[i].id}/json`;\r\n  }\r\n\r\n  let template = Handlebars.compile(source);\r\n  document.querySelector(\".container\").innerHTML = template(data);\r\n}\r\n\r\n// 3. 클릭한 글의 id를 전달해서 individual_contents 불러오기\r\nfunction getIndividualContents(id) {\r\n  const CONTENT_URL = `https://api.hnpwa.com/v0/item/${id}/json`;\r\n  const source = `\r\n  <div class=\"title\">\r\n    <h1>\r\n      <a href=\"{{url}}\">{{title}} ({{domain}})</a>\r\n    </h1>\r\n    <div>\r\n      <span>{{points}} points by {{user}} {{time_ago}}</span>\r\n      <span><a href=\"{{individual_url}}\">{{comments_count}} comments</a></span>\r\n    </div>\r\n  </div>\r\n  <ul>\r\n    {{#each list}}\r\n    <li>\r\n      <div>{{user}} {{time_ago}}</div>\r\n      <div>{{content}}</div>\r\n    </li>\r\n    {{/each}}\r\n  </ul>\r\n  `;\r\n\r\n  // error: 왜 data = { content }; 는 되지 않을까?\r\n  ajax.open(\"GET\", CONTENT_URL, false);\r\n  ajax.send();\r\n  const content = JSON.parse(ajax.response);\r\n  const comments = JSON.parse(ajax.response).comments;\r\n  data = {\r\n    // 이 부분은 좀 간단하게 줄이고 싶은데..\r\n    title: content.title,\r\n    url: content.url,\r\n    domain: content.domain,\r\n    points: content.points,\r\n    user: content.user,\r\n    time_ago: content.time_ago,\r\n    list: comments,\r\n  };\r\n\r\n  console.log(content);\r\n  let template = Handlebars.compile(source);\r\n  document.querySelector(\".container\").innerHTML = template(data);\r\n}\r\n\r\ngetIndividualContents(28180135);\r\n"]}